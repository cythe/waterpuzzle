## 中文介绍

这个项目是一个游戏(water puzzle)的解决方法.

我只在linux环境下测试完毕, windows上没有移植, 以后也不会了.

解决方法其实非常简单, 就是遍历所有可能性, 在main函数内提供了两个函数, 一种是通过栈和回溯解决, 可以记录步骤, 所以默认使用这个函数. 另一种是通过递归, 没有实现步骤记录.

## 使用方法

#### 编译

`make`

#### 取色

`./release/bin/pickcolor <picture>`

这一步依照从上到下(每个试管), 从左到右点击每个管子中的每个色块.

```
点击顺序:

| 1 || 5 || 9 ||   ||   ||   ||   |
| 2 || 6 ||...||   ||   ||   ||   |
| 3 || 7 ||   ||   ||   ||   ||   |
| 4 || 8 ||   ||   ||   ||   ||   |
 ^^^  ^^^  ^^^  ^^^  ^^^  ^^^  ^^^

|   ||   ||   ||   ||   ||  0||  0|
|   ||   ||   ||   ||   ||  0||  0|
|   ||   ||   ||   ||   ||  0||  0|
|   ||   ||   ||   ||   ||  0||  0|
 ^^^  ^^^  ^^^  ^^^  ^^^  ^^^  ^^^
```

会得到如下结果:

```
0xdb8f51 0x7f9530 0x81d486 0x392ebb
0xd8677b 0x2e6337 0xdb8f51 0x682f8e
0xb5392d 0x392ebb 0x2e6337 0xecda6c
0xecda6c 0xd8677b 0x682f8e 0xecda6c
0x67a1e0 0x7f9530 0xecda6c 0xdb8f51
0x81d486 0x774b1a 0xb5392d 0x636466
0x392ebb 0x636466 0x774b1a 0xd8677b
0xdb8f51 0x2e6337 0x392ebb 0xd8677b
0x774b1a 0x81d486 0x774b1a 0x636466
0x2e6337 0xb5392d 0x682f8e 0x67a1e0
0x636466 0x7f9530 0x682f8e 0x67a1e0
0x7f9530 0xb5392d 0x67a1e0 0x81d486
```

最后要把空试管补上, 写入文件cfg.txt:

``` shell
cat << EOF
0xdb8f51 0x7f9530 0x81d486 0x392ebb
0xd8677b 0x2e6337 0xdb8f51 0x682f8e
0xb5392d 0x392ebb 0x2e6337 0xecda6c
0xecda6c 0xd8677b 0x682f8e 0xecda6c
0x67a1e0 0x7f9530 0xecda6c 0xdb8f51
0x81d486 0x774b1a 0xb5392d 0x636466
0x392ebb 0x636466 0x774b1a 0xd8677b
0xdb8f51 0x2e6337 0x392ebb 0xd8677b
0x774b1a 0x81d486 0x774b1a 0x636466
0x2e6337 0xb5392d 0x682f8e 0x67a1e0
0x636466 0x7f9530 0x682f8e 0x67a1e0
0x7f9530 0xb5392d 0x67a1e0 0x81d486
0x0 0x0 0x0 0x0
0x0 0x0 0x0 0x0
EOF
```

有的空试管在前面, 就放前面:

```shell
cat << EOF
0x0 0x0 0x0 0x0
0x0 0x0 0x0 0x0
0xdb8f51 0x7f9530 0x81d486 0x392ebb
0xd8677b 0x2e6337 0xdb8f51 0x682f8e
0xb5392d 0x392ebb 0x2e6337 0xecda6c
0xecda6c 0xd8677b 0x682f8e 0xecda6c
0x67a1e0 0x7f9530 0xecda6c 0xdb8f51
0x81d486 0x774b1a 0xb5392d 0x636466
0x392ebb 0x636466 0x774b1a 0xd8677b
0xdb8f51 0x2e6337 0x392ebb 0xd8677b
0x774b1a 0x81d486 0x774b1a 0x636466
0x2e6337 0xb5392d 0x682f8e 0x67a1e0
0x636466 0x7f9530 0x682f8e 0x67a1e0
0x7f9530 0xb5392d 0x67a1e0 0x81d486
EOF
```

#### 排序

`./release/bin/watersort`

依次输入999(跳过颜色选择), 2(使用cfg.txt文件作为关卡).

最后的结果要倒着看, 从下往上是每步的步骤, 涉及到的试管会闪烁.

> 还有两个用法, 有兴趣的话看load.c代码吧.

## 注意事项

一般情况下, 取色尽量点击颜色块的中间保证取色正确.

## 依赖

SDL2 SDL2_Image

在ubuntu上安装依赖:

`apt install libsdl2-dev libsdl2-image-dev`

## English
Please translate this file.

